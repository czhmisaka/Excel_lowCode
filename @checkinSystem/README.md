<!--
 * @Date: 2025-11-18 23:52:52
 * @LastEditors: CZH
 * @LastEditTime: 2025-11-25 23:57:22
 * @FilePath: /lowCode_excel/@checkinSystem/README.md
-->
# 签到系统文件索引

## 概述
本目录包含了劳务签到系统的所有相关脚本、文档和配置文件，已从项目根目录迁移至此。

## 目录结构

```
@checkinSystem/
├── README.md                    # 本文件 - 系统索引说明
├── scripts/                     # 核心部署脚本
│   ├── 远程签到系统部署脚本.js     # 主要部署脚本
│   ├── 本地签到系统部署脚本.js     # 本地部署脚本
│   ├── 创建二维码签到系统完整版.js  # 完整版二维码系统创建
│   ├── 签到系统功能测试.js         # 功能测试
│   ├── 完整系统测试.js            # 完整系统测试
│   ├── 测试数据表创建API.js       # 数据表API测试
│   ├── 测试新二维码签到系统.js     # 新系统测试
│   ├── 检查并创建数据表.js         # 数据表检查工具
│   ├── 通过表单创建数据表.js       # 表单数据表创建
│   ├── 修复签到表单验证.js         # 表单验证修复
│   └── 修复签到表结构.js           # 表结构修复
├── tests/                       # 测试和验证脚本
│   ├── 测试远程服务器连接.js       # 连接测试
│   ├── 测试Hook修复_修正版.js     # Hook修复测试（修正版）
│   ├── 初始化远程服务器数据库.js   # 数据库初始化
│   └── 检查线上环境状态.js        # 环境检查
├── docs/                        # 文档和说明
│   ├── 签到系统部署说明.md        # 完整部署指南
│   ├── 签到系统部署状态总结.md    # 部署状态总结
│   ├── 签到系统使用说明.md        # 用户手册
│   ├── 自动配置脚本使用说明.md    # 配置说明
│   ├── 紧急修复方案.md           # 故障处理
│   └── 远程部署完成总结.md       # 部署总结
└── templates/                   # 模板文件
    ├── 签到表模板.xlsx          # 签到表模板
    ├── 签到表模板_v2.xlsx       # 签到表模板v2
    └── 签到系统演示.html         # 演示页面
```

## 使用说明

### 快速部署
```bash
# 进入签到系统目录
cd @checkinSystem

# 执行部署脚本
node scripts/远程签到系统部署脚本.js
```

### 前端增强
在签到表单页面加载前端增强脚本：
```html
<script src="scripts/签到系统增强脚本.js"></script>
```

### 故障排除
- 查看 `docs/紧急修复方案.md` 获取故障处理指南
- 使用 `tests/` 目录下的测试脚本进行问题诊断

## 系统功能

### 核心功能
- ✅ 自动签到时间记录
- ✅ 自动签退时间记录  
- ✅ 工作时间自动计算
- ✅ 表单验证（姓名、手机号、公司选择）
- ✅ 重复签到检查

### 表单字段
- **姓名** (必填)
- **手机号** (必填，格式验证)
- **所在公司** (必填，下拉选项：汇博劳务公司、恒信劳务公司、临时工)
- **签到时间** (自动记录)
- **签退时间** (自动记录)
- **实际工作时间** (自动计算)

## 部署状态

### 当前可用系统
- **无Hook版本** (推荐使用): `labor_sign_in_no_hook`
  - 状态: ✅ **已部署并可用**
  - 访问地址: `http://localhost:4000/api/public/form/forms/labor_sign_in_no_hook`
  - 特点: 基本功能正常，需要手动填写时间信息

- **完整版本** (存在问题): `labor_sign_in`
  - 状态: ⚠️ **Hook配置问题**
  - 访问地址: `http://localhost:4000/api/public/form/forms/labor_sign_in`
  - 问题: Hook执行失败，无法自动记录时间

- **V2版本** (存在问题): `labor_sign_in_v2`
  - 状态: ⚠️ **Hook配置问题**
  - 访问地址: `http://localhost:4000/api/public/form/forms/labor_sign_in_v2`
  - 问题: Hook执行失败，无法自动记录时间

### 部署总结
- ✅ 服务器连接正常 (端口4000)
- ✅ 表单创建功能正常
- ✅ 基本表单提交功能正常
- ⚠️ JavaScript Hook执行存在问题
- ✅ 无Hook版本可用并稳定

详细部署状态请查看 `docs/签到系统部署状态总结.md`

## 技术支持

如需技术支持，请参考：
1. `docs/签到系统部署说明.md` - 完整部署指南
2. `docs/紧急修复方案.md` - 故障处理方案
3. 测试脚本目录 - 问题诊断工具

---
*最后更新: 2025-11-25*
*迁移完成状态: ✅ 已完成*
*简化版本清理: ✅ 已完成 - 已移除所有简化版本，仅保留完整功能版本*
